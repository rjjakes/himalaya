{"version":3,"sources":["format.js"],"names":["splitHead","unquote","format","str","sep","idx","indexOf","slice","length","car","charAt","end","isQuoteStart","nodes","map","type","node","tagName","attributes","children","content"],"mappings":";;;;;QAAgBA,S,GAAAA,S;QAMAC,O,GAAAA,O;QAUAC,M,GAAAA,M;AAhBT,SAASF,SAAT,CAAoBG,GAApB,EAAyBC,GAAzB,EAA8B;AACnC,MAAMC,MAAMF,IAAIG,OAAJ,CAAYF,GAAZ,CAAZ;AACA,MAAIC,QAAQ,CAAC,CAAb,EAAgB,OAAO,CAACF,GAAD,CAAP;AAChB,SAAO,CAACA,IAAII,KAAJ,CAAU,CAAV,EAAaF,GAAb,CAAD,EAAoBF,IAAII,KAAJ,CAAUF,MAAMD,IAAII,MAApB,CAApB,CAAP;AACD;;AAEM,SAASP,OAAT,CAAkBE,GAAlB,EAAuB;AAC5B,MAAMM,MAAMN,IAAIO,MAAJ,CAAW,CAAX,CAAZ;AACA,MAAMC,MAAMR,IAAIK,MAAJ,GAAa,CAAzB;AACA,MAAMI,eAAeH,QAAQ,GAAR,IAAeA,QAAQ,GAA5C;AACA,MAAIG,gBAAgBH,QAAQN,IAAIO,MAAJ,CAAWC,GAAX,CAA5B,EAA6C;AAC3C,WAAOR,IAAII,KAAJ,CAAU,CAAV,EAAaI,GAAb,CAAP;AACD;AACD,SAAOR,GAAP;AACD;;AAEM,SAASD,MAAT,CAAiBW,KAAjB,EAAwB;AAC7B,SAAOA,MAAMC,GAAN,CAAU,gBAAQ;AACvB,QAAMC,OAAOC,KAAKD,IAAlB;AACA,QAAIA,SAAS,SAAb,EAAwB;AACtB,UAAME,UAAUD,KAAKC,OAArB,CADsB,CACQ;AAC9B,UAAMC,aAAaF,KAAKE,UAAxB;AACA,UAAMC,WAAWjB,OAAOc,KAAKG,QAAZ,CAAjB;AACA,aAAO,EAACJ,UAAD,EAAOE,gBAAP,EAAgBC,sBAAhB,EAA4BC,kBAA5B,EAAP;AACD;;AAED,WAAO,EAACJ,UAAD,EAAOK,SAASJ,KAAKI,OAArB,EAAP;AACD,GAVM,CAAP;AAWD","file":"format.js","sourcesContent":["export function splitHead (str, sep) {\n  const idx = str.indexOf(sep)\n  if (idx === -1) return [str]\n  return [str.slice(0, idx), str.slice(idx + sep.length)]\n}\n\nexport function unquote (str) {\n  const car = str.charAt(0)\n  const end = str.length - 1\n  const isQuoteStart = car === '\"' || car === \"'\"\n  if (isQuoteStart && car === str.charAt(end)) {\n    return str.slice(1, end)\n  }\n  return str\n}\n\nexport function format (nodes) {\n  return nodes.map(node => {\n    const type = node.type\n    if (type === 'element') {\n      const tagName = node.tagName  // .toLowerCase()\n      const attributes = node.attributes\n      const children = format(node.children)\n      return {type, tagName, attributes, children}\n    }\n\n    return {type, content: node.content}\n  })\n}\n"]}